<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping cart</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="font-sans bg-gray-50">
    <nav class="h-14 bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center gap-6 text-white font-bold">
        <a href="../login/login.html" class="hover:underline">เข้าสู่ระบบ</a>
        <a href="../register/register.html" class="hover:underline">สมัครสมาชิก</a>
        <a href="../index.html" class="hover:underline">หน้าหลัก</a>
        <a href="../category/category.html" class="hover:underline">หมวดหมู่สินค้า</a>
        <a href="../Shopping cart/Shopping cart.html" class="hover:underline">ตะกร้าสินค้า</a>
    </nav>
    <br>
    
<!--Main -->
<main class="max-w-4xl mx-auto my-5 px-10">

    <h1 class="text-2xl font-bold mb-6 text-center">
        ตะกร้าสินค้าของคุณ
    </h1>

    <!--รายการสินค้า -->
    <section class="bg-white shadow-md rounded-lg p-4 mb-6">

        <!-- หัวตาราง -->
        <div class="grid grid-cols-5 font-bold border-b pb-2 mb-4 text-center">
            <div class="col-span-2 text-left">สินค้า</div>
            <div>ราคาต่อชิ้น</div>
            <div>จำนวน</div>
        </div>

        <!-- สินค้า 1 -->
        <div class="grid grid-cols-5 items-center text-center mb-4">
            <div class="col-span-2 flex items-center gap-4 text-left">
                <img src="https://pawdy.co.th/wp-content/uploads/2024/01/Mockup-Matulity-Senior-7-font-1-768x768.jpg"
                     alt="Pawdy Senior"
                     class="w-20 h-20 object-cover rounded">
                <span class="font-semibold">
                    Pawdy Senior 7+ อาหารสุนัขสูงวัย
                </span>
            </div>

            <div class="item-total font-bold">฿350</div>

            <div class="flex justify-center items-center gap-2">
                <button class="qty-minus px-2 py-1 bg-gray-200 rounded">-</button>
                <span class="qty" data-price="350">1</span>
                <button class="qty-plus px-2 py-1 bg-gray-200 rounded">+</button>
            </div>


            <!-- ปุ่มลบ -->
            <div class="flex items-center gap-3">
                <button onclick="removeItem('item1')" class="bg-sky-50 hover:bg-rose-500 text-white px-3 py-1 rounded">
                <img src="https://cdn-icons-png.flaticon.com/512/1214/1214428.png" alt="ลบ" class="w-4 h-4">
                </button>
            </div>            
            
        </div>

        <!-- สินค้า 2 -->
        <div class="grid grid-cols-5 items-center text-center">
            <div class="col-span-2 flex items-center gap-4 text-left">
                <img src="https://pawdy.co.th/wp-content/uploads/2024/02/Mockup-Holistic-Feline-_-Kitten-font-2-768x768.jpg"
                     alt="Pawdy Kitten"
                     class="w-20 h-20 object-cover rounded">
                <span class="font-semibold">
                    Pawdy Holistic อาหารลูกแมว
                </span>
            </div>

            <div class="item-total font-bold">฿450</div>

            <div class="flex justify-center items-center gap-2">
                <button class="qty-minus px-2 py-1 bg-gray-200 rounded">-</button>
                <span class="qty" data-price="450">1</span>
                <button class="qty-plus px-2 py-1 bg-gray-200 rounded">+</button>
            </div>
            <!-- ปุ่มลบ -->
            <div class="flex items-center gap-3">
                    <button onclick="removeItem('item2')" class="bg-sky-50 hover:bg-rose-500 text-white px-3 py-1 rounded">
                    <img src="https://cdn-icons-png.flaticon.com/512/1214/1214428.png" alt="ลบ" class="w-4 h-4">
                    </button>
            </div> 
        </div>

    </section>

    <!--สรุปราคา -->
    <section class="bg-white shadow-md rounded-lg p-4">

        <div class="flex justify-between mb-2">
            <span>ราคารวมสินค้า</span>
            <span id="subtotal">฿800</span>
        </div>

        <div class="flex justify-between mb-2">
            <span>ค่าจัดส่ง</span>
            <span id="shipping">฿50</span>
        </div>

        <div class="flex justify-between font-bold text-lg border-t pt-2">
            <span >รวมทั้งหมด</span>
            <span id="grand-total">฿850</span>
        </div>

        <div class="mt-6 flex justify-end gap-4">
            <a href="../index.html"
               class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">
               เลือกซื้อสินค้าต่อ
            </a>

            <button class="px-6 py-2 bg-lime-500 text-white font-bold rounded hover:bg-lime-600">
                ชำระเงิน
            </button>
        </div>


    </section>

</main>

<!--Footer -->
<footer class="text-center py-4 text-sm text-gray-500 mt-10">
    © 2026 Hand In Paw Pethome
</footer>

<script>
        const plusBtns = document.querySelectorAll(".qty-plus");
        const minusBtns = document.querySelectorAll(".qty-minus");
        const shippingCost = 50;

        function updateCart() {
        let subtotal = 0;

        document.querySelectorAll(".qty").forEach(qtyEl => {
            const price = parseInt(qtyEl.dataset.price);
            const qty = parseInt(qtyEl.textContent);

            const itemTotal = price * qty;
            qtyEl.closest(".grid").querySelector(".item-total").textContent = "฿" + itemTotal;

            subtotal += itemTotal;
         });

        document.getElementById("subtotal").textContent = "฿" + subtotal;
        document.getElementById("grand-total").textContent = "฿" + (subtotal + shippingCost);
        }

        // + เพิ่มจำนวน
        plusBtns.forEach(btn => {
            btn.addEventListener("click", () => {
            const qtyEl = btn.previousElementSibling;
            qtyEl.textContent = parseInt(qtyEl.textContent) + 1;
            updateCart();
            });
        });

        // - ลดจำนวน
        minusBtns.forEach(btn => {
            btn.addEventListener("click", () => {
            const qtyEl = btn.nextElementSibling;
            let qty = parseInt(qtyEl.textContent);
            if (qty > 1) {
                qtyEl.textContent = qty - 1;
                updateCart();
            }
            });
        });
    //โหลดครั้งแรก
    updateCart();
    </script>
</body>
</html>